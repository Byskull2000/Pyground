generator client {
  provider      = "prisma-client-js"
  output        = "../generated/prisma"
  binaryTargets = ["native", "debian-openssl-3.0.x"]
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

enum RolesEnum {
  ADMIN
  ACADEMICO
  USUARIO
}

model Usuario {
  id             Int       @id @default(autoincrement())
  email          String    @unique
  password_hash  String?   
  nombre         String
  apellido       String
  rol            RolesEnum  @default(USUARIO)
  activo         Boolean   @default(true)
  fecha_registro DateTime  @default(now())
  ultimo_acceso  DateTime?
  avatar_url     String?   @db.VarChar(500)
  bio            String?

  google_id      String?   @unique
  provider       String?   @default("local") 
}

model Curso {
  id             Int      @id @default(autoincrement())
  nombre         String   @db.VarChar(100)
  descripcion    String?  @db.Text
  codigo_curso   String   @unique @db.VarChar(20)
  activo         Boolean  @default(true)
  fecha_creacion DateTime @default(now())
  creado_por     String?  @db.VarChar(100)
}